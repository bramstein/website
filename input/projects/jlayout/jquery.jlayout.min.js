/*
 * jLayout JQuery Plugin v0.15
 *
 * Licensed under the new BSD License.
 * Copyright 2008-2009 Bram Stein
 * All rights reserved.
 */
if(jQuery&&jLayout){(function(b){function a(d){var c={};b.each(["min","max"],function(f,e){c[e+"imumSize"]=function(g){if(d.data("jlayout")){return d.data("jlayout")[e+"imum"](c)}else{return d[e+"Size"](g)}}});b.extend(c,{doLayout:function(){if(d.data("jlayout")){d.data("jlayout").layout(c)}d.css({position:"absolute"})},isVisible:function(){return d.isVisible()},insets:function(){var f=d.padding(),e=d.border();return{top:f.top,bottom:f.bottom+e.bottom+e.top,left:f.left,right:f.right+e.right+e.left}},bounds:function(f){var e={};if(f){if(typeof f.x==="number"){e.left=f.x}if(typeof f.y==="number"){e.top=f.y}if(typeof f.width==="number"){e.width=(f.width-(d.outerWidth(true)-d.width()));e.width=(e.width>=0)?e.width:0}if(typeof f.height==="number"){e.height=f.height-(d.outerHeight(true)-d.height());e.height=(e.height>=0)?e.height:0}d.css(e);return d}else{e=d.position();return{x:e.left,y:e.top,width:d.outerWidth(false),height:d.outerHeight(false)}}},preferredSize:function(){var g,h,f=d.margin(),e={width:0,height:0};if(d.data("jlayout")){e=d.data("jlayout").preferred(c);g=c.minimumSize();h=c.maximumSize();e.width+=f.left+f.right;e.height+=f.top+f.bottom;if(e.width<g.width||e.height<g.height){e.width=Math.max(e.width,g.width);e.height=Math.max(e.height,g.height)}else{if(e.width>h.width||e.height>h.height){e.width=Math.min(e.width,h.width);e.height=Math.min(e.height,h.height)}}}else{e.width=c.bounds().width+f.left+f.right;e.height=c.bounds().height+f.top+f.bottom}return e}});return c}b.fn.layout=function(c){var d=b.extend({},b.fn.layout.defaults,c);return b.each(this,function(){var f=b(this),e=a(f),g=b.metadata&&f.metadata().layout?b.extend(d,f.metadata().layout):d;if(g.type==="border"&&typeof jLayout.border!=="undefined"){b.each(["north","south","west","east","center"],function(j,h){if(f.children().hasClass(h)){g[h]=a(f.find("."+h+":first"))}});f.data("jlayout",jLayout.border(g))}else{if(g.type==="grid"&&typeof jLayout.grid!=="undefined"){g.items=[];f.children().each(function(h){g.items[h]=a(b(this))});f.data("jlayout",jLayout.grid(g))}else{if(g.type==="flexGrid"&&typeof jLayout.flexGrid!=="undefined"){g.items=[];f.children().each(function(h){g.items[h]=a(b(this))});f.data("jlayout",jLayout.flexGrid(g))}}}if(g.resize){e.bounds(e.preferredSize())}e.doLayout();f.css({position:"relative"});if(b.ui!==undefined){f.addClass("ui-widget")}})};b.fn.layout.defaults={resize:true,type:"grid"}})(jQuery)};