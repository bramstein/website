/*
 * jLayout JQuery Plugin v0.16
 *
 * Licensed under the new BSD License.
 * Copyright 2008-2009 Bram Stein
 * All rights reserved.
 */
if(jQuery&&jLayout){(function(b){function a(d){var c={};b.each(["min","max"],function(f,e){c[e+"imumSize"]=function(h){var g=d.data("jlayout");if(g){return g[e+"imum"](c)}else{return d[e+"Size"](h)}}});b.extend(c,{doLayout:function(){var e=d.data("jlayout");if(e){e.layout(c)}d.css({position:"absolute"})},isVisible:function(){return d.isVisible()},insets:function(){var f=d.padding(),e=d.border();return{top:f.top,bottom:f.bottom+e.bottom+e.top,left:f.left,right:f.right+e.right+e.left}},bounds:function(f){var e={};if(f){if(typeof f.x==="number"){e.left=f.x}if(typeof f.y==="number"){e.top=f.y}if(typeof f.width==="number"){e.width=(f.width-(d.outerWidth(true)-d.width()));e.width=(e.width>=0)?e.width:0}if(typeof f.height==="number"){e.height=f.height-(d.outerHeight(true)-d.height());e.height=(e.height>=0)?e.height:0}d.css(e);return d}else{e=d.position();return{x:e.left,y:e.top,width:d.outerWidth(false),height:d.outerHeight(false)}}},preferredSize:function(){var h,i,g=d.margin(),f={width:0,height:0},e=d.data("jlayout");if(e){f=e.preferred(c);h=c.minimumSize();i=c.maximumSize();f.width+=g.left+g.right;f.height+=g.top+g.bottom;if(f.width<h.width||f.height<h.height){f.width=Math.max(f.width,h.width);f.height=Math.max(f.height,h.height)}else{if(f.width>i.width||f.height>i.height){f.width=Math.min(f.width,i.width);f.height=Math.min(f.height,i.height)}}}else{f=c.bounds();f.width+=g.left+g.right;f.height+=g.top+g.bottom}return f}});return c}b.fn.layout=function(c){var d=b.extend({},b.fn.layout.defaults,c);return b.each(this,function(){var f=b(this),e=a(f),g=b.metadata&&f.metadata().layout?b.extend(d,f.metadata().layout):d;if(g.type==="border"&&typeof jLayout.border!=="undefined"){b.each(["north","south","west","east","center"],function(j,h){if(f.children().hasClass(h)){g[h]=a(f.children("."+h+":first"))}});f.data("jlayout",jLayout.border(g))}else{if(g.type==="grid"&&typeof jLayout.grid!=="undefined"){g.items=[];f.children().each(function(h){g.items[h]=a(b(this))});f.data("jlayout",jLayout.grid(g))}else{if(g.type==="flexGrid"&&typeof jLayout.flexGrid!=="undefined"){g.items=[];f.children().each(function(h){g.items[h]=a(b(this))});f.data("jlayout",jLayout.flexGrid(g))}else{if(g.type==="column"&&typeof jLayout.column!=="undefined"){g.items=[];f.children().each(function(h){g.items[h]=a(b(this))});f.data("jlayout",jLayout.column(g))}else{if(g.type==="flow"&&typeof jLayout.flow!=="undefined"){g.items=[];f.children().each(function(h){g.items[h]=a(b(this))});f.data("jlayout",jLayout.flow(g))}}}}}if(g.resize){e.bounds(e.preferredSize())}e.doLayout();f.css({position:"relative"});if(b.ui!==undefined){f.addClass("ui-widget")}})};b.fn.layout.defaults={resize:true,type:"grid"}})(jQuery)};