/*
 * jLayout - JavaScript Layout Algorithms v0.4
 *
 * Licensed under the new BSD License.
 * Copyright 2008, Bram Stein
 * All rights reserved.
 */
jLayout={grid:function(a,e){var d=e||{},b={};d.hgap=a.hgap||0;d.vgap=a.vgap||0;d.items=a.items||[];d.columns=a.columns||d.items.length;d.rows=a.rows||0;if(d.rows>0){d.columns=Math.floor((d.items.length+d.rows-1)/d.rows)}else{d.rows=Math.floor((d.items.length+d.columns-1)/d.columns)}b.items=function(){var f=[];Array.prototype.push.apply(f,d.items);return f};b.layout=function(k){var m,l,h=k.insets(),g=h.left,o=h.top,n=(k.bounds().width-(h.left+h.right)-(d.columns-1)*d.hgap)/d.columns,f=(k.bounds().height-(h.top+h.bottom)-(d.rows-1)*d.vgap)/d.rows;for(m=0,l=1;m<d.items.length;m+=1,l+=1){d.items[m].bounds({x:g,y:o,width:n,height:f});if(d.columns<=d.rows){if(l>=d.columns){o+=f+d.vgap;g=h.left;l=0}else{g+=n+d.hgap}}else{if(l>=d.rows){g+=n+d.hgap;o=h.top;l=0}else{o+=f+d.vgap}}d.items[m].doLayout()}return k};function c(f){return function(j){var k=0,l=0,g=0,m,h=j.insets();for(;k<d.items.length;k+=1){m=d.items[k][f+"Size"]();l=Math.max(l,m.width);g=Math.max(g,m.height)}return{width:h.left+h.right+d.columns*l+(d.columns-1)*d.hgap,height:h.top+h.bottom+d.rows*g+(d.rows-1)*d.vgap}}}b.preferred=c("preferred");b.minimum=c("minimum");b.maximum=c("maximum");return b},flexGrid:function(a){var e={},b=this.grid(a,e);function d(g,f){var h=0;for(;h<f;h+=1){g[h]=0}return g}function c(f){return function(j){var m=0,g=0,p=0,o=0,k=0,q=d([],e.columns),n=d([],e.rows),s,l=j.insets();for(m=0;m<e.items.length;m+=1){g=m/e.columns;p=m%e.columns;s=e.items[m][f+"Size"]();if(q[p]<s.width){q[p]=s.width}if(n[g]<s.height){n[g]=s.height}}for(m=0;m<e.columns;m+=1){o+=q[m]}for(m=0;m<e.rows;m+=1){k+=n[m]}return{width:l.left+l.right+o+(e.columns-1)*e.hgap,height:l.top+l.bottom+k+(e.rows-1)*e.vgap}}}b.preferred=c("preferred");b.minimum=c("minimum");b.maximum=c("maximum");b.layout=function(g){var k=0,o=0,f=0,p=b.preferred(g),u=g.bounds().width/p.width,m=g.bounds().height/p.height,t=d([],e.columns),l=d([],e.rows),j=g.insets(),s=j.left,q=j.top,n;for(k=0;k<e.items.length;k+=1){f=k/e.columns;o=k%e.columns;n=e.items[k].preferredSize();n.width=u*n.width;n.height=m*n.height;if(t[o]<n.width){t[o]=n.width}if(l[f]<n.height){l[f]=n.height}}for(o=0;o<e.columns;o+=1){for(f=0,q=j.top;f<e.rows;f+=1){k=f*e.columns+o;if(k<e.items.length){e.items[k].bounds({x:s,y:q,width:t[o],height:l[f]});e.items[k].doLayout()}q+=l[f]+e.vgap}s+=t[o]+e.hgap}return g};return b},border:function(i){var g={},d={},f=i.east,h=i.west,b=i.north,e=i.south,a=i.center;g.hgap=i.hgap||0;g.vgap=i.vgap||0;d.items=function(){var j=[];if(f){j.push(f)}if(h){j.push(h)}if(b){j.push(b)}if(e){j.push(e)}if(a){j.push(a)}return j};d.layout=function(k){var o=k.bounds(),j=k.insets(),q=j.top,l=o.height-j.bottom,p=j.left,n=o.width-j.right,m;if(b&&b.isVisible()){m=b.preferredSize();b.bounds({x:p,y:q,width:n-p,height:m.height});b.doLayout();q+=m.height+g.vgap}if(e&&e.isVisible()){m=e.preferredSize();e.bounds({x:p,y:l-m.height,width:n-p,height:m.height});e.doLayout();l-=m.height+g.vgap}if(f&&f.isVisible()){m=f.preferredSize();f.bounds({x:n-m.width,y:q,width:m.width,height:l-q});f.doLayout();n-=m.width+g.hgap}if(h&&h.isVisible()){m=h.preferredSize();h.bounds({x:p,y:q,width:m.width,height:l-q});h.doLayout();p+=m.width+g.hgap}if(a&&a.isVisible()){a.bounds({x:p,y:q,width:n-p,height:l-q});a.doLayout()}return k};function c(j){return function(m){var l=m.insets(),n=0,k=0,o;if(f&&f.isVisible()){o=f[j+"Size"]();n+=o.width+g.hgap;k=o.height}if(h&&h.isVisible()){o=h[j+"Size"]();n+=o.width+g.hgap;k=Math.max(o.height,k)}if(a&&a.isVisible()){o=a[j+"Size"]();n+=o.width;k=Math.max(o.height,k)}if(b&&b.isVisible()){o=b[j+"Size"]();n=Math.max(o.width,n);k+=o.height+g.vgap}if(e&&e.isVisible()){o=e[j+"Size"]();n=Math.max(o.width,n);k+=o.height+g.vgap}return{width:n+l.left+l.right,height:k+l.top+l.bottom}}}d.preferred=c("preferred");d.minimum=c("minimum");d.maximum=c("maximum");return d}};